<!DOCTYPE html>
<html>
<head>
    <title>Penguin Cart Surfer Clone</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: #000;
        }
        canvas {
            display: block;
            margin: auto;
            background-color: #87CEEB; /* fallback if background image fails */
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas" width="800" height="600"></canvas>

    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");

        // Load background image
        const bgImg = new Image();
        bgImg.src = "background.png"; // Make sure background.png is in the same folder

        // Load penguin image
        const penguinImg = new Image();
        penguinImg.src = "penguin.png"; // Make sure penguin.png is in the same folder

        // Player position
        let penguinX = 400;
        let penguinY = 300;
        const penguinSpeed = 5;

        // Track keys
        const keys = {};

        document.addEventListener("keydown", (e) => keys[e.key] = true);
        document.addEventListener("keyup", (e) => keys[e.key] = false);

        function update() {
            if (keys["ArrowUp"]) penguinY -= penguinSpeed;
            if (keys["ArrowDown"]) penguinY += penguinSpeed;
            if (keys["ArrowLeft"]) penguinX -= penguinSpeed;
            if (keys["ArrowRight"]) penguinX += penguinSpeed;
        }

        function draw() {
            // Draw background
            ctx.drawImage(bgImg, 0, 0, canvas.width, canvas.height);

            // Draw penguin
            ctx.drawImage(penguinImg, penguinX, penguinY, 80, 80);
        }

        function gameLoop() {
            update();
            draw();
            requestAnimationFrame(gameLoop);
        }

        // Ensure BOTH images are loaded before starting
        let loadedImages = 0;
        function checkStart() {
            loadedImages++;
            if (loadedImages === 2) {
                gameLoop();
            }
        }

        bgImg.onload = checkStart;
        penguinImg.onload = checkStart;
    </script>
</body>
</html>
